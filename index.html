<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday Corinna!!!</title>
  <meta name="description" content="Hipster vinyl vibes, black/orange center, floral background ‚Äî and very silly accessorised geese." />
  <style>
    :root{
      --cream:#fff2e6;
      --ink:#0a0a0a;
      --orange:#ff6a00;
      --amber:#ffc440;
      --muted:#d9cbb9;
      --card:#141210ee;
      --ring:#3a2f29;
      --accent: var(--orange);
      --accent2: var(--amber);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--cream);
      line-height:1.6;
      background-color: var(--ink);
      /* subtle coloured floral pattern (URL-encoded inline SVG) */
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 200 200'><defs><g id='leaf'><path d='M10,0 C20,20 20,40 10,60 C0,40 0,20 10,0Z' fill='none' stroke='%23ff6a00' stroke-width='2' opacity='0.5'/></g></defs><rect width='100%25' height='100%25' fill='transparent'/><use href='%23leaf' x='20' y='20'/><use href='%23leaf' x='70' y='40' transform='rotate(25 90 60)'/><use href='%23leaf' x='120' y='25' transform='rotate(-20 140 45)'/><use href='%23leaf' x='40' y='110' transform='rotate(-35 60 130)'/><use href='%23leaf' x='110' y='120' transform='rotate(40 130 140)'/><circle cx='160' cy='160' r='10' fill='none' stroke='%23ffc440' stroke-width='2' opacity='0.45'/><circle cx='30' cy='160' r='8' fill='none' stroke='%23ffc440' stroke-width='2' opacity='0.45'/></svg>");
      background-repeat: repeat;
      background-size: 260px 260px;
      background-attachment: fixed;
    }

    .container{max-width:980px;margin:0 auto;padding:24px}
    .hero{display:grid;gap:18px;align-items:center;grid-template-columns:200px 1fr;margin-top:24px}
    .pfp{width:200px;height:200px;border-radius:22px;object-fit:cover;border:4px solid var(--accent); box-shadow:0 10px 28px #0009}
    h1{font-size:clamp(42px,7.5vw,72px);margin:0;letter-spacing:0.5px; line-height:1.06}
    .sub{margin:6px 0 0; color:var(--muted); font-size:clamp(16px,2.6vw,22px)}
    .card{background:var(--card);border:1px solid var(--ring); border-radius:20px; padding:20px; box-shadow:0 14px 34px #0008}
    .btn,a.btn{appearance:none;border:0;border-radius:999px;padding:12px 18px;font-weight:800;cursor:pointer;color:#0a0a0a;background:linear-gradient(90deg,var(--accent),var(--accent2)); box-shadow:0 6px 18px #0008; display:inline-block; text-decoration:none}
    .center{text-align:center}

    /* Spinning record with record player */
    .record-player{
      width:139px;
      height:139px;
      background:linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 50%, #0f0f0f 100%);
      border-radius:15px;
      padding:20px;
      position:relative;
      border:2px solid #3a3a3a;
      box-shadow:0 9px 23px #0009, inset 0 2px 8px #ffffff0a;
      margin-right:30px;
    }
    .record-player:before{
      content:"";
      position:absolute;
      top:12px;
      right:12px;
      width:7px;
      height:7px;
      background:var(--orange);
      border-radius:50%;
      box-shadow:0 0 5px var(--orange);
    }
    .record-player:after{
      content:"";
      position:absolute;
      top:9px;
      left:50%;
      width:35px;
      height:2px;
      background:linear-gradient(90deg, #666 0%, #999 50%, #666 100%);
      border-radius:1px;
      transform-origin:0 50%;
      transform:translateX(-2px) rotate(25deg);
      box-shadow:0 1px 2px #0006;
    }
    .record{
      width:100px;
      height:100px;
      border-radius:50%; 
      background:
        radial-gradient(circle at 50% 50%, #0a0a0a 0 3px, transparent 3px),
        radial-gradient(circle at 50% 50%, #c4b197 0 9px, var(--orange) 9px, var(--orange) 11px, #c4b197 11px, #c4b197 14px, transparent 14px),
        radial-gradient(circle at 50% 50%, #0b0a09 15px, #12100e 34px, #0b0a09 51px, #12100e 69px, #0b0a09 77px);
      position:relative; 
      border:1px solid #2c2621; 
      box-shadow: inset 0 0 31px #000a, 0 7px 15px #0008;
      animation:spin 9s linear infinite; 
      will-change:transform;
    }
    .record:after{content:""; position:absolute; inset:0; border-radius:50%; background:
      repeating-radial-gradient(circle at 50% 50%, transparent 0 3px, rgba(255,255,255,.03) 3px 4px);
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Goose layer */
    .geese{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:9999}
    .goose{
      position:absolute; 
      top:-120px; 
      display:block; 
      pointer-events:auto; 
      will-change: transform;
      font-size: 70px;
      line-height: 1;
    }
    
    /* Simple spinning rain animation - faster timing */
    @keyframes gooseRain{ 
      0% { 
        transform: translateY(-120px) rotate(0deg);
        opacity: 0;
      }
      5% {
        opacity: 1;
      }
      95% {
        opacity: 1;
      }
      100% { 
        transform: translateY(calc(100vh + 150px)) rotate(360deg);
        opacity: 0;
      } 
    }
    
    /* Apply rain animation to geese - faster 4s duration */
    .goose{ 
      animation: gooseRain 4s linear forwards;
    }

    .pop{
      animation:pop .45s ease forwards;
      pointer-events: none; /* Disable further clicks during pop animation */
    }
    @keyframes pop{
      0%{transform:scale(1); opacity: 1}
      70%{transform:scale(1.25); opacity: 0.8}
      100%{transform:scale(0); opacity:0; visibility: hidden} /* Hide completely at the end */
    }

    /* Feather splash animation */
    .feather{
      position:absolute;
      font-size:16px;
      pointer-events:none;
      z-index:10000;
      will-change:transform;
    }

    @media (prefers-reduced-motion: reduce){ .goose{animation:none} .record{animation:none} }

    /* Goose counter number animation - enhanced */
    @keyframes numberPop {
      0% {
        transform: scale(1) !important;
        color: var(--accent2);
      }
      50% {
        transform: scale(2.5) !important;
        color: var(--accent);
      }
      100% {
        transform: scale(1) !important;
        color: var(--accent2);
      }
    }
    .number-animate {
      animation: numberPop 0.8s ease-out !important;
      animation-fill-mode: both !important;
      display: inline-block !important;
    }

    /* Countdown */
    .countdown{display:flex; gap:10px; flex-wrap:wrap}
    .count{min-width:86px; text-align:center; padding:12px; border:1px solid var(--ring); border-radius:12px; background:#0f0e0d; color:var(--cream)}
    .count .n{font-size:28px; font-weight:900; display:block}
    .count .l{font-size:12px; color:var(--muted)}

    /* Gallery */
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}
    .gallery img{width:100%;height:180px;object-fit:cover;border-radius:14px;border:1px solid var(--ring); box-shadow:0 6px 18px #0007}
  </style>
</head>
<body>
  <div class="geese" aria-hidden="true" id="geese"></div>

  <div class="container">
    <div class="hero card">
      <img class="pfp" src="https://corinna-newton.com/Corinna1.png" alt="Corinna profile" fetchpriority="high" />
      <div>
        <h1>Happy Birthday Corinna!!!</h1>
        <div class="sub">Today we're spinning up good vibes only!</div>
        <div style="margin-top:8px;display:flex;align-items:center;gap:15px;flex-wrap:wrap">
          <button class="btn" id="goose-toggle" type="button">You know what you are?</button>
          <div id="goose-counter" style="color:var(--accent2);font-size:28px;font-weight:700;display:none">
            <span id="goose-number">0</span> <span id="goose-text">√ó Goose</span>
          </div>
        </div>
      </div>
    </div>

    <section class="card" style="margin-top:18px" id="countdown">
      <h2 style="margin-top:0">‚è∞ Bday Countdown</h2>
      <div style="display:flex;align-items:center;gap:20px;min-height:139px">
        <div class="countdown" style="flex:1">
          <div class="count"><span class="n" id="d">0</span><span class="l">days</span></div>
          <div class="count"><span class="n" id="h">0</span><span class="l">hours</span></div>
          <div class="count"><span class="n" id="m">0</span><span class="l">mins</span></div>
          <div class="count"><span class="n" id="s">0</span><span class="l">secs</span></div>
        </div>
        <div class="record-player" aria-hidden="true">
          <div class="record"></div>
        </div>
      </div>
    </section>

    <section class="card" style="margin-top:18px" id="spotify-player">
      <h2 style="margin-top:0">üéµ Birthday Vibes</h2>
      <div class="center" style="margin:8px 0">
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/2RUhtNBh43RtSg0WBPPq3m?utm_source=generator&theme=0" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        <div style="margin-top:10px; color:var(--muted); font-size:14px">
        </div>
      </div>
    </section>

    <section class="card" id="the-plan" style="margin-top:18px">
      <h2 style="margin-top:0">üéØ The Plan</h2>
      <p style="margin:0 0 20px 0;color:var(--muted);text-align:center">I know options suck so sorry in advance, that's what the last one is there for :)</p>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px">
        <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
          <h3 style="margin:0 0 12px 0;color:var(--accent);font-size:18px">üåä Coast Day</h3>
          <ul style="margin:0;padding-left:20px;color:var(--cream);line-height:1.8">
            <li>Drive down the coast</li>
            <li>Buy some fish and chips</li>
            <li>Find a breezy grassy cliff end to enjoy</li>
          </ul>
        </div>
        
        <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
          <h3 style="margin:0 0 12px 0;color:var(--accent);font-size:18px">üèîÔ∏è Inland Day</h3>
          <ul style="margin:0;padding-left:20px;color:var(--cream);line-height:1.8">
            <li>Book an Airbnb</li>
            <li>Stay the night away from society</li>
            <li>Watch movies, possibly with a fireplace</li>
          </ul>
        </div>
        
        <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
          <h3 style="margin:0 0 12px 0;color:var(--accent);font-size:18px">‚ùÑÔ∏è Snow Day</h3>
          <ul style="margin:0;padding-left:20px;color:var(--cream);line-height:1.8">
            <li>Book a Ski pass</li>
            <li>Drive down to Perisher</li>
            <li>Hit the slopes</li>
          </ul>
        </div>
        
        <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
          <h3 style="margin:0 0 12px 0;color:var(--accent);font-size:18px">üè† Day In</h3>
          <ul style="margin:0;padding-left:20px;color:var(--cream);line-height:1.8">
            <li>Shop üè™</li>
            <li>Find Movies üé¨</li>
            <li>Chill üçÉ</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="card" id="daily-game" style="margin-top:18px">
      <h2 style="margin-top:0">üéÆ Game Time</h2>
      <div style="margin:8px 0">
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:15px">
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üéµ Themely</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">Guess the movie, game, or series from its soundtrack! 5 chances, hints included.</p>
            <a class="btn" href="https://themely.se" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play Themely</a>
          </div>
          
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üé¨ Framed</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">Guess the movie from 6 still frames. A new movie every day!</p>
            <a class="btn" href="https://framed.wtf" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play Framed</a>
          </div>
          
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üé∂ Harmonies</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">Find musical connections! Group songs, artists, and genres by theme.</p>
            <a class="btn" href="https://harmonies.io" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play Harmonies</a>
          </div>
          
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üéØ Movie Grid</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">Daily movie trivia grid. Match actors, directors, and clues!</p>
            <a class="btn" href="https://moviegrid.io" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play Movie Grid</a>
          </div>
          
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üéµ SongTrivia</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">Daily music quizzes! Name that tune, guess the artist, test your music knowledge.</p>
            <a class="btn" href="https://songtrivia2.io" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play SongTrivia</a>
          </div>
          
          <div style="background:#0f0e0d;border:1px solid var(--ring);border-radius:12px;padding:20px">
            <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:18px">üìù Wordle</h3>
            <p style="margin:0 0 12px 0;color:var(--muted);font-size:14px">The classic daily word puzzle that started it all!</p>
            <a class="btn" href="https://www.nytimes.com/games/wordle/index.html" target="_blank" rel="noopener" style="font-size:14px;padding:8px 14px">Play Wordle</a>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
    // Audio context and buffers for pitch-shifted goose honks
    let audioContext = null;
    let audioBuffers = {}; // Store multiple audio buffers
    let fallbackAudios = {}; // Store multiple fallback audio elements

    // Array of goose honk files
    const GOOSE_AUDIO_FILES = [
      'https://corinna-newton.com/Goose-Honk1.mp3',
      'https://corinna-newton.com/Goose-Honk2.mp3',
      'https://corinna-newton.com/Goose-Honk3.mp3'
    ];

    // Main function to play goose honk with random pitch between -0.5 and 0.5
    function webHonk(){
      try {
        // Random pitch between -0.5 and 0.5 (your requested range)
        const randomPitch = -0.5 + Math.random() * 1.0; // Generates -0.5 to 0.5
        
        // Randomly select one of the three audio files
        const randomFile = GOOSE_AUDIO_FILES[Math.floor(Math.random() * GOOSE_AUDIO_FILES.length)];
        
        playPitchedAudio(randomPitch, randomFile);
      } catch(e) {
        console.error('Pitched audio failed:', e);
        fallbackHonk();
      }
    }

    // Load and pitch-shift the audio file
    async function playPitchedAudio(pitchShift = 0, audioFile) {
      try {
        // Initialize audio context if needed
        if (!audioContext) {
          audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        // Resume audio context if suspended (browser requirement)
        if (audioContext.state === 'suspended') {
          await audioContext.resume();
        }

        // Load the audio file if not already loaded
        if (!audioBuffers[audioFile]) {
          const response = await fetch(audioFile);
          
          if (!response.ok) {
            throw new Error(`Failed to load audio file: ${response.status} ${response.statusText}`);
          }
          
          const arrayBuffer = await response.arrayBuffer();
          audioBuffers[audioFile] = await audioContext.decodeAudioData(arrayBuffer);
        }

        // Create audio nodes for pitch shifting
        const source = audioContext.createBufferSource();
        const gainNode = audioContext.createGain();
        
        source.buffer = audioBuffers[audioFile];
        
        // Apply pitch shift by changing playback rate
        // Negative values make it deeper/slower, positive values make it higher/faster
        const playbackRate = Math.pow(2, pitchShift);
        source.playbackRate.value = playbackRate;
        
        // Set volume
        gainNode.gain.value = 0.6;
        
        // Connect the audio nodes: source -> gain -> speakers
        source.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Play the pitched audio
        source.start(0);
        
      } catch(error) {
        console.error('ERROR: Failed to play audio file with pitch shifting:', error);
        console.error('Falling back to synthetic goose sound...');
        fallbackHonk();
      }
    }

    // Fallback to synthetic goose sound when file loading fails
    function fallbackHonk(){
      try {
        // Randomly select one of the three audio files for fallback
        const randomFile = GOOSE_AUDIO_FILES[Math.floor(Math.random() * GOOSE_AUDIO_FILES.length)];
        
        // Try regular audio first from the hosted URL
        if (!fallbackAudios[randomFile]) {
          fallbackAudios[randomFile] = new Audio(randomFile);
          fallbackAudios[randomFile].volume = 0.6;
        }
        
        // Reset and play the selected audio
        fallbackAudios[randomFile].currentTime = 0;
        fallbackAudios[randomFile].play().catch(() => createSyntheticHonk());
        
      } catch(error) {
        console.error('ERROR: Complete audio failure - creating synthetic honk:', error);
        createSyntheticHonk();
      }
    }

    // Create a synthetic goose honk sound
    function createSyntheticHonk() {
      try {
        if (!audioContext) {
          audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }
        
        if (audioContext.state === 'suspended') {
          audioContext.resume();
        }

        // Random pitch for variety (between -0.5 and 0.5 as requested)
        const pitchShift = -0.5 + Math.random() * 1.0;
        const baseFreq = 220 * Math.pow(2, pitchShift); // A3 note pitched down
        
        // Create oscillators for a more complex honk sound
        const oscillator1 = audioContext.createOscillator();
        const oscillator2 = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        const filterNode = audioContext.createBiquadFilter();
        
        // Configure oscillators for goose-like sound
        oscillator1.type = 'sawtooth';
        oscillator1.frequency.setValueAtTime(baseFreq, audioContext.currentTime);
        oscillator1.frequency.exponentialRampToValueAtTime(baseFreq * 0.7, audioContext.currentTime + 0.3);
        
        oscillator2.type = 'triangle';
        oscillator2.frequency.setValueAtTime(baseFreq * 1.5, audioContext.currentTime);
        oscillator2.frequency.exponentialRampToValueAtTime(baseFreq * 1.2, audioContext.currentTime + 0.3);
        
        // Configure filter for more natural sound
        filterNode.type = 'lowpass';
        filterNode.frequency.setValueAtTime(1200, audioContext.currentTime);
        filterNode.Q.setValueAtTime(5, audioContext.currentTime);
        
        // Configure volume envelope for natural attack/decay
        gainNode.gain.setValueAtTime(0, audioContext.currentTime);
        gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.05);
        gainNode.gain.exponentialRampToValueAtTime(0.1, audioContext.currentTime + 0.2);
        gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
        
        // Connect audio nodes
        oscillator1.connect(filterNode);
        oscillator2.connect(filterNode);
        filterNode.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Play the synthetic honk
        oscillator1.start(audioContext.currentTime);
        oscillator2.start(audioContext.currentTime);
        oscillator1.stop(audioContext.currentTime + 0.5);
        oscillator2.stop(audioContext.currentTime + 0.5);
        
      } catch(error) {
        console.error('ERROR: Failed to create synthetic honk:', error);
        console.log('ü§∑ Audio is completely unavailable in this environment');
      }
    }

    // Goose click counter
    let gooseClickCount = 0;

    function updateGooseCounter() {
      const counter = document.getElementById('goose-counter');
      const numberSpan = document.getElementById('goose-number');
      const textSpan = document.getElementById('goose-text');
      const profilePic = document.querySelector('.pfp');
      
      if (counter && numberSpan && textSpan) {
        if (gooseClickCount === 0) {
          counter.style.display = 'none';
          // Reset profile picture when counter is reset
          if (profilePic) {
            profilePic.src = 'https://corinna-newton.com/Corinna1.png';
          }
        } else {
          counter.style.display = 'block';
          
          // Update the number
          numberSpan.textContent = gooseClickCount;
          
          // Update profile picture when score goes over 10
          if (gooseClickCount > 10 && profilePic) {
            profilePic.src = 'https://corinna-newton.com/Goosinna.png';
          }
          
          // Update the text based on count with different ranges
          let gooseText;
          if (gooseClickCount === 1) {
            gooseText = '√ó Goose';
          } else if (gooseClickCount >= 2 && gooseClickCount <= 5) {
            gooseText = '√ó Gooses';
          } else if (gooseClickCount >= 6 && gooseClickCount <= 10) {
            gooseText = '√ó Geese';
          } else { // 11+
            gooseText = '√ó Goosi';
          }
          textSpan.textContent = gooseText;
          
          // Animate using direct style manipulation
          numberSpan.style.display = 'inline-block';
          numberSpan.style.transition = 'transform 0.3s ease-out, color 0.3s ease-out';
          
          // Scale up and change color
          numberSpan.style.transform = 'scale(2.5)';
          numberSpan.style.color = 'var(--accent)';
          
          // Scale back down after a delay
          setTimeout(() => {
            numberSpan.style.transform = 'scale(1)';
            numberSpan.style.color = 'var(--accent2)';
          }, 300);
        }
      }
    }

    // Create feather splash effect
    function createFeatherSplash(x, y) {
      const featherCount = 4 + Math.floor(Math.random() * 7); // 4-10 feathers
      
      for (let i = 0; i < featherCount; i++) {
        const feather = document.createElement('span');
        feather.className = 'feather';
        feather.textContent = 'ü™∂';
        
        // Position at click location
        feather.style.left = x + 'px';
        feather.style.top = y + 'px';
        feather.style.opacity = '1';
        feather.style.transform = 'scale(0)';
        
        // Random direction for each feather (full 360 degrees)
        const angle = Math.random() * 360;
        const distance = 60 + Math.random() * 80; // 60-140px travel distance
        const radians = angle * Math.PI / 180;
        
        // Calculate end position
        const endX = Math.cos(radians) * distance;
        const endY = Math.sin(radians) * distance;
        
        document.getElementById('geese').appendChild(feather);
        
        // Animate the feather using JavaScript for better control
        let startTime = null;
        const duration = 1200; // 1.2 seconds
        
        function animateFeather(timestamp) {
          if (!startTime) startTime = timestamp;
          const progress = Math.min((timestamp - startTime) / duration, 1);
          
          // Easing function (ease-out)
          const easeOut = 1 - Math.pow(1 - progress, 3);
          
          // Scale animation: 0 -> 1.2 -> 0.8
          let scale;
          if (progress < 0.2) {
            scale = (progress / 0.2) * 1.2; // 0 to 1.2 in first 20%
          } else {
            scale = 1.2 - ((progress - 0.2) / 0.8) * 0.4; // 1.2 to 0.8 in remaining 80%
          }
          
          // Position animation
          const currentX = endX * easeOut;
          const currentY = endY * easeOut;
          
          // Opacity animation (fade out in last 40%)
          const opacity = progress < 0.6 ? 1 : 1 - ((progress - 0.6) / 0.4);
          
          feather.style.transform = `translate(${currentX}px, ${currentY}px) scale(${scale})`;
          feather.style.opacity = opacity;
          
          if (progress < 1) {
            requestAnimationFrame(animateFeather);
          } else {
            // Remove feather after animation
            if (feather.parentNode) {
              feather.remove();
            }
          }
        }
        
        requestAnimationFrame(animateFeather);
      }
    }
    // Goose types for the animation
    const GOOSE_TYPES = [
      'ü™ø', // Goose emoji
      'ü¶Ü', // Duck emoji  
      // Public domain goose images from Wikimedia Commons
      'https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Goose_cartoon_04.svg/505px-Goose_cartoon_04.svg.png',
      'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Goose.svg/170px-Goose.svg.png',
      'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Canada_goose_clipart.svg/512px-Canada_goose_clipart.svg.png',
      'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Simple_heraldic_goose.svg/120px-Simple_heraldic_goose.svg.png'
    ];

    function makeGoose(){
      const el = document.createElement('span');
      el.className = 'goose';
      
      // Size variation
      const size = 45 + Math.random() * 50; // 45-95px
      
      // Randomly choose between emoji and image
      const gooseType = GOOSE_TYPES[Math.floor(Math.random() * GOOSE_TYPES.length)];
      
      if (gooseType.startsWith('https://')) {
        // It's an image URL
        el.style.backgroundImage = `url("${gooseType}")`;
        el.style.backgroundSize = 'contain';
        el.style.backgroundRepeat = 'no-repeat';
        el.style.backgroundPosition = 'center';
        el.innerHTML = ''; 
        el.style.width = size + 'px';
        el.style.height = size + 'px';
      } else {
        // It's an emoji
        el.textContent = gooseType;
        el.style.backgroundImage = 'none';
        el.style.fontSize = size + 'px';
        el.style.width = 'auto';
        el.style.height = 'auto';
      }

      // Random horizontal position
      el.style.left = Math.random() * 90 + 'vw';

      // Click handler for individual geese
      el.addEventListener('click', (event)=>{ 
        if (el.classList.contains('pop')) return;
        
        // Increment goose click counter
        gooseClickCount++;
        updateGooseCounter();
        
        // Get click position for feather splash
        const rect = el.getBoundingClientRect();
        const clickX = rect.left + rect.width / 2;
        const clickY = rect.top + rect.height / 2;
        
        el.classList.add('pop'); 
        webHonk(); // Play the honk with random pitch
        
        // Create feather splash at goose position
        createFeatherSplash(clickX, clickY);
        
        // Hide the goose
        el.style.transform = 'translateY(-200vh)';
        el.style.visibility = 'hidden';
        
        setTimeout(() => {
          if (el.parentNode) {
            el.remove();
          }
        }, 450);
      });
      
      return el;
    }

    function releaseGeese(){
      const root = document.getElementById('geese');
      
      // Reset goose counter when button is clicked
      gooseClickCount = 0;
      updateGooseCounter();
      
      // Clear existing geese
      root.innerHTML = '';
      
      // Reset intervals
      if (releaseGeese._currentInterval) {
        clearInterval(releaseGeese._currentInterval);
      }
      if (releaseGeese._cleanupTimeout) {
        clearTimeout(releaseGeese._cleanupTimeout);
      }
      
      // Create new geese
      let gooseCount = 0;
      const maxGeese = 100;
      
      releaseGeese._currentInterval = setInterval(() => {
        if (gooseCount < maxGeese) {
          root.appendChild(makeGoose());
          gooseCount++;
        } else {
          clearInterval(releaseGeese._currentInterval);
          releaseGeese._currentInterval = null;
        }
      }, 60);
      
      // Play initial honk when button is clicked
      webHonk();
      
      // Cleanup
      releaseGeese._cleanupTimeout = setTimeout(() => {
        if (releaseGeese._currentInterval) {
          clearInterval(releaseGeese._currentInterval);
          releaseGeese._currentInterval = null;
        }
        setTimeout(() => {
          if (root) {
            root.innerHTML = '';
          }
        }, 1000);
      }, 8000);
    }

    function tryPlaySong(){
      // Silent - no console messages
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      // Wire up the main button
      const btn = document.getElementById('goose-toggle');
      if(btn) btn.addEventListener('click', releaseGeese);
      
      // Auto-play attempt
      tryPlaySong();
      
      // Gesture-based auto-play fallback
      window.addEventListener('pointerdown', ()=>{ tryPlaySong(); }, {once:true});
    });

    // Countdown timer (AEST)
    const BDAY_ISO = '2025-09-02T00:00:00+10:00';
    (function initCountdown(){
      const d = document.getElementById('d');
      const h = document.getElementById('h');
      const m = document.getElementById('m');
      const s = document.getElementById('s');
      if(!d||!h||!m||!s) return;
      
      function tick(){
        const target = new Date(BDAY_ISO);
        const now = new Date();
        const diff = target - now;
        if(isNaN(target.getTime())) return;
        if(diff <= 0){ 
          d.textContent=h.textContent=m.textContent=s.textContent='0'; 
          return; 
        }
        const sec = Math.floor(diff/1000);
        d.textContent = Math.floor(sec/86400);
        h.textContent = Math.floor((sec%86400)/3600);
        m.textContent = Math.floor((sec%3600)/60);
        s.textContent = sec%60;
      }
      tick(); 
      setInterval(tick, 1000);
    })();
  </script>
</body>
</html>